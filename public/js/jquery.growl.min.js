/*
jQuery Growl
Copyright 2013 Kevin Sylvestre
1.1.6
*/

(function(){"use strict";var e,t,n,r=function(e,t){return function(){return e.apply(t,arguments)}};e=jQuery;t=function(){function e(){}e.transitions={webkitTransition:"webkitTransitionEnd",mozTransition:"mozTransitionEnd",oTransition:"oTransitionEnd",transition:"transitionend"};e.transition=function(e){var t,n,r,i;t=e[0];i=this.transitions;for(r in i){n=i[r];if(t.style[r]!=null){return n}}};return e}();n=function(){function n(t){if(t==null){t={}}this.html=r(this.html,this);this.$growl=r(this.$growl,this);this.$growls=r(this.$growls,this);this.animate=r(this.animate,this);this.remove=r(this.remove,this);this.dismiss=r(this.dismiss,this);this.present=r(this.present,this);this.cycle=r(this.cycle,this);this.close=r(this.close,this);this.unbind=r(this.unbind,this);this.bind=r(this.bind,this);this.render=r(this.render,this);this.settings=e.extend({},n.settings,t);this.$growls().attr("class",this.settings.location);this.render()}n.settings={namespace:"growl",duration:3200,close:"&times;",location:"default",style:"default",size:"medium"};n.growl=function(e){if(e==null){e={}}this.initialize();return new n(e)};n.initialize=function(){return e("body:not(:has(#growls))").append('<div id="growls" />')};n.prototype.render=function(){var e;e=this.$growl();this.$growls().append(e);if(this.settings["static"]!=null){this.present()}else{this.cycle()}};n.prototype.bind=function(e){if(e==null){e=this.$growl()}return e.on("contextmenu",this.close).find("."+this.settings.namespace+"-close").on("click",this.close)};n.prototype.unbind=function(e){if(e==null){e=this.$growl()}return e.off("contextmenu",this.close).find("."+(this.settings.namespace-close)).off("click",this.close)};n.prototype.close=function(e){var t;e.preventDefault();e.stopPropagation();t=this.$growl();return t.stop().queue(this.dismiss).queue(this.remove)};n.prototype.cycle=function(){var e;e=this.$growl();return e.queue(this.present).delay(this.settings.duration).queue(this.dismiss).queue(this.remove)};n.prototype.present=function(e){var t;t=this.$growl();this.bind(t);return this.animate(t,""+this.settings.namespace+"-incoming","out",e)};n.prototype.dismiss=function(e){var t;t=this.$growl();this.unbind(t);return this.animate(t,""+this.settings.namespace+"-outgoing","in",e)};n.prototype.remove=function(e){this.$growl().remove();return e()};n.prototype.animate=function(e,n,r,i){var s;if(r==null){r="in"}s=t.transition(e);e[r==="in"?"removeClass":"addClass"](n);e.offset().position;e[r==="in"?"addClass":"removeClass"](n);if(i==null){return}if(s!=null){e.one(s,i)}else{i()}};n.prototype.$growls=function(){return this.$_growls!=null?this.$_growls:this.$_growls=e("#growls")};n.prototype.$growl=function(){return this.$_growl!=null?this.$_growl:this.$_growl=e(this.html())};n.prototype.html=function(){return"<div class='"+this.settings.namespace+" "+this.settings.namespace+"-"+this.settings.style+" "+this.settings.namespace+"-"+this.settings.size+"'>\n  <div class='"+this.settings.namespace+"-close'>"+this.settings.close+"</div>\n  <div class='"+this.settings.namespace+"-title'>"+this.settings.title+"</div>\n  <div class='"+this.settings.namespace+"-message'>"+this.settings.message+"</div>\n</div>"};return n}();e.growl=function(e){if(e==null){e={}}return n.growl(e)};e.growl.error=function(t){var n;if(t==null){t={}}n={title:"Error!",style:"error"};return e.growl(e.extend(n,t))};e.growl.notice=function(t){var n;if(t==null){t={}}n={title:"Notice!",style:"notice"};return e.growl(e.extend(n,t))};e.growl.warning=function(t){var n;if(t==null){t={}}n={title:"Warning!",style:"warning"};return e.growl(e.extend(n,t))}}).call(this)