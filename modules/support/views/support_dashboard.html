<div id="support_area_list" class="support-area">
    <h1>!{root.lang.__('module_dashboard')}</h1>
    <div class="uk-overflow-container">
        <table class="uk-table uk-table-striped uk-table-hover taracot-data-table" id="taracot_table">
            <thead>
                <tr>
                    <th style="width:80px" class="taracot_table_sortable" rel="taracot_table_sortable_ticket_id">!{root.lang.__('ticket_id')}
                        <span class="taracot-sort-marker">&nbsp;<i class="uk-icon-sort-desc"></i></span>
                    </th>
                    <th style="width:120px" class="taracot_table_sortable" rel="taracot_table_sortable_user_id">!{root.lang.__('ticket_user')}</th>
                    <th style="width:120px">!{root.lang.__('ticket_last_reply')}</th>
                    <th class="taracot_table_sortable" rel="taracot_table_sortable_ticket_subj">!{root.lang.__('ticket_subj')}</th>
                    <th style="width:120px" class="taracot_table_sortable" rel="taracot_table_sortable_ticket_status">!{root.lang.__('ticket_status')}</th>
                    <th style="width:120px" class="taracot_table_sortable" rel="taracot_table_sortable_ticket_status">!{root.lang.__('ticket_prio')}</th>
                    <th style="width:140px" class="taracot_table_sortable" rel="taracot_table_sortable_ticket_date">!{root.lang.__('ticket_date')}</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
    </div>
    <div class="taracot-loading uk-hidden uk-vertical-align uk-text-center">
        <div class="uk-vertical-align-middle">
            <img src="/modules/user/images/loading_36x36.gif" width="36" height="36" alt="">
        </div>
    </div>
    <div id="taracot_table_pagination" class="uk-margin-top" style="height:30px"></div>
</div>
<div id="support_area_new_ticket" style="display:none" class="support-area">
    <h1>!{root.lang.__('new_ticket')}</h1>
    <div class="uk-margin-bottom">
        !{root.lang.__('new_ticket_hint')}
    </div>
    <div class="uk-alert uk-alert-danger" id="ticket_error" style="display:none"></div>
    <div class="uk-form uk-form-horizontal">
        <div class="uk-form-row">
            <label class="uk-form-label" for="ticket_subj">
                !{root.lang.__('ticket_subj')}&nbsp;<span class="taracot-red-asterisk">*</span>
            </label>
            <div class="uk-form-controls">
                <input type="text" id="ticket_subj" class="uk-form-width-large taracot-form-ticket-control">
                <p class="uk-form-help-block">
                    !{root.lang.__('ticket_subj_hint')}
                </p>
            </div>
        </div>
        <div class="uk-form-row">
            <label class="uk-form-label" for="ticket_prio">
                !{root.lang.__('ticket_prio')}&nbsp;<span class="taracot-red-asterisk">*</span>
            </label>
            <div class="uk-form-controls">
                <select id="ticket_prio" class="uk-form-width-small taracot-form-ticket-control">
                    <option value="1">!{root.lang.__('ticket_prio_low')}</option>
                    <option value="2">!{root.lang.__('ticket_prio_medium')}</option>
                    <option value="3">!{root.lang.__('ticket_prio_high')}</option>
                </select>
            </div>
        </div>
        <div class="uk-form-row">
            <label class="uk-form-label" for="ticket_msg">
                !{root.lang.__('ticket_msg')}&nbsp;<span class="taracot-red-asterisk">*</span>
            </label>
            <div class="uk-form-controls">
                <textarea id="ticket_msg" rows="5" class="uk-form-width-large taracot-form-ticket-control"></textarea>
                <p class="uk-form-help-block">
                    !{root.lang.__('ticket_msg_hint')}
                </p>
            </div>
        </div>
        <div class="uk-form-row">
            <label class="uk-form-label" for="ticket_attach">
                !{root.lang.__('ticket_attach')}
            </label>
            <div class="uk-form-controls">
                <div class="taracot-attach-filename uk-margin-bottom" style="display:none">
                </div>
                <div>
                    <button class="uk-button uk-button-mini" id="btn_file_new_attach">!{root.lang.__('btn_attach_file')}</button>&nbsp;
                    <button class="uk-button uk-button-mini uk-button-danger" id="btn_file_new_del" style="display:none">!{root.lang.__('btn_remove_file')}</button>
                </div>
            </div>
        </div>
        <div class="uk-form-row">
            <label class="uk-form-label">
            </label>
            <div class="uk-form-controls">
                <div class="uk-margin-top">
                    <button class="uk-button uk-button-success" id="btn_ticket_create">
                        <span id="btn_ticket_create_loading" style="display:none"><img src="/modules/support/images/loading_16x16.gif" style="width:16px;height:16px">&nbsp;</span> !{root.lang.__('create_ticket')}
                    </button>&nbsp;
                    <button class="uk-button" id="btn_ticket_create_cancel">!{root.lang.__('create_ticket_cancel')}</button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="support_area_view_ticket" style="display:none" class="support-area">
    <h1>!{root.lang.__('view_ticket_id')}&nbsp;<span id="support_h1_ticket_id"></span></h1>
    <div class="uk-margin-bottom">
        <div class="uk-badge uk-float-right" id="support_badge_status"></div>&nbsp;!{root.lang.__('last_modified')}:&nbsp;<span id="support_text_last_modified"></span>
    </div>
    <div class="uk-margin-top taracot-support-username">
        <i class="uk-icon-user"></i>&nbsp;<span id="support_username_starter"></span>
    </div>
    <div class="uk-panel uk-panel-box taracot-subj-box">
        <h3 id="support_h3_subj"></h3>
    </div>
    <div class="uk-panel uk-panel-box taracot-support-message-box" id="support_box_msg">
    </div>
    <div id="support_attachment" class="taracot-support-attachment">
        <i class="uk-icon-paperclip"></i>&nbsp;
        <a href="#" id="support_attachment_link"></a>
    </div>
    <div class="taracot-support-btn-margin">
        <button id="btn_ticket_reply_cancel" class="uk-button"><i class="uk-icon-arrow-left"></i>&nbsp;!{root.lang.__('back_to_ticket_list')}</button>&nbsp;
        <button id="btn_ticket_reply_dlg" class="uk-button">!{root.lang.__('post_ticket_reply')}</button>&nbsp;
        <button id="btn_ticket_edit_dlg" class="uk-button">!{root.lang.__('ticket_edit')}</button>
    </div>
    <div id="support_replies"></div>
    <div class="uk-modal" id="dlg_ticket_reply">
        <div class="uk-modal-dialog">
            <div class="uk-modal-header">
                <h2>!{root.lang.__('ticket_reply_header')}</h2>
            </div>
            <div class="uk-alert uk-alert-danger" id="ticket_reply_error" style="display:none"></div>
            <div class="uk-form">
                <div class="uk-form-row">
                    <label class="uk-form-label" for="ticket_reply_msg">
                        !{root.lang.__('ticket_msg_reply')}&nbsp;<span class="taracot-red-asterisk">*</span>
                    </label>
                    <div class="uk-form-controls">
                        <textarea id="ticket_reply_msg" rows="5" class="uk-width-1-1 taracot-form-ticket-control"></textarea>
                        <p class="uk-form-help-block">
                            !{root.lang.__('ticket_reply_msg_hint')}
                        </p>
                    </div>
                </div>
                <div class="uk-form-row">
                    <div class="uk-form-controls">
                        <div class="taracot-attach-filename uk-margin-bottom" style="display:none">
                        </div>
                        <div>
                            <button class="uk-button uk-button-mini" id="btn_file_reply_attach">!{root.lang.__('btn_attach_file')}</button>&nbsp;
                            <button class="uk-button uk-button-mini uk-button-danger" id="btn_file_reply_del" style="display:none">!{root.lang.__('btn_remove_file')}</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="uk-modal-footer">
                <button class="uk-button uk-button-success support-dialog-button" id="btn_ticket_reply">
                    <span id="btn_ticket_reply_loading" style="display:none"><img src="/modules/support/images/loading_16x16.gif" style="width:16px;height:16px">&nbsp;</span> !{root.lang.__('reply_ticket')}
                </button>&nbsp;
                <button class="uk-button support-dialog-button uk-modal-close">!{root.lang.__('cancel')}</button>
            </div>
        </div>
    </div>
</div>
<div id="dlg_locked" class="uk-modal">
    <div class="uk-modal-dialog">
        <div class="uk-modal-header">
            <h3>!{root.lang.__('ticket_locked')}</h3>
        </div>
        !{root.lang.__('ticket_locked_by')}:&nbsp;<strong><span id="dlg_locked_user"></span></strong>
        <div class="uk-modal-footer">
            <button class="uk-button uk-modal-close taracot-dlg-locked-button">!{root.lang.__('close')}</button>&nbsp;
            <button id="btn_steal_lock" class="uk-button uk-button-danger taracot-dlg-locked-button">!{root.lang.__('steal_lock')}</button>
        </div>
    </div>
</div>
<div id="dlg_edit" class="uk-modal">
    <div class="uk-modal-dialog">
        <div class="uk-modal-header">
            <h3>!{root.lang.__('ticket_edit')}</h3>
        </div>
        <div class="uk-form uk-form-horizontal">
            <div class="uk-form-row">
                <label class="uk-form-label" for="ticket_status">
                    !{root.lang.__('ticket_status')}&nbsp;<span class="taracot-red-asterisk">*</span>
                </label>
                <div class="uk-form-controls">
                    <select id="ticket_status" class="uk-form-width-small taracot-form-ticket-edit-control">
                        <option value="1">!{root.lang.__('status_list')[0]}</option>
                        <option value="2">!{root.lang.__('status_list')[1]}</option>
                        <option value="3">!{root.lang.__('status_list')[2]}</option>
                    </select>
                </div>
            </div>
            <div class="uk-form-row">
                <label class="uk-form-label" for="ticket_prio">
                    !{root.lang.__('ticket_prio')}&nbsp;<span class="taracot-red-asterisk">*</span>
                </label>
                <div class="uk-form-controls">
                    <select id="ticket_prio" class="uk-form-width-small taracot-form-ticket-edit-control">
                        <option value="1">!{root.lang.__('ticket_prio_low')}</option>
                        <option value="2">!{root.lang.__('ticket_prio_medium')}</option>
                        <option value="3">!{root.lang.__('ticket_prio_high')}</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="uk-modal-footer">
            <button id="btn_ticket_edit_save" class="uk-button uk-button-success taracot-dlg-edit-button">!{root.lang.__('save_ticket')}</button>&nbsp;
            <button class="uk-button uk-modal-close taracot-dlg-edit-button">!{root.lang.__('cancel')}</button>
        </div>
    </div>
</div>
<script>
var _lang_vars = {
        ajax_failed: "!{root.lang.__('ajax_failed')}",
        no_res: "!{root.lang.__('no_results_in_table')}",
        form_contains_errors: "!{root.lang.__('form_contains_errors')}",
        ticket_create_success: "!{root.lang.__('ticket_create_success')}",
        ticket_reply_success: "!{root.lang.__('ticket_reply_success')}",
        upload_failed: "!{root.lang.__('upload_failed')}",
        status_list: !{
            root.status_list
        },
        prio_list: !{
            root.prio_list
        }
    },
    save_title = $(document).find("title").text(),
    current_username = "!{root.current_username}",
    current_user = !{
        root.current_user
    },
    current_locale = "!{root.current_locale}";
</script>
<script src="/js/plupload/plupload.full.min.js"></script>
<script src="/js/jquery.medved.loading.js"></script>
<script src="/js/jquery.medved.table.js"></script>
<script src="/js/uikit/addons/notify.min.js"></script>
<script src="/js/moment.min.js"></script>
<script src="/js/helper.js"></script>
<script src="/js/jquery.history.min.js"></script>
<script src="/js/socket.io.min.js"></script>
<script src="/modules/support/js/support_dashboard.js"></script>
