function submitOnEnter(a){var b;if(window.event)b=window.event.keyCode;else{if(!a)return!1;b=a.keyCode?a.keyCode:a.which}return 13==b&&(!window.previousKeyCode||33!=window.previousKeyCode&&34!=window.previousKeyCode&&39!=window.previousKeyCode&&40!=window.previousKeyCode)?!0:(window.previousKeyCode=b,!1)}$("#btn_pwd").click(function(){return $("#taracot-pwd-error").hide(),$(".taracot-auth-field").removeClass("uk-form-danger"),$("#pwd_password").val().match(/^.{5,20}$/)&&$("#pwd_password").val()==$("#pwd_password_repeat").val()?($("#set_password_div").hide(),$("#reset_res").hide(),$("#pwd_loading").show(),$("#taracot-pwd-error").hide(),void $.ajax({type:"POST",url:"/auth/password/process",data:{user:user,code:code,password:$("#pwd_password").val()},dataType:"json",success:function(a){1!=a.result?($("#set_password_div").show(),$("#reset_res").show(),$("#pwd_loading").hide(),a.field&&($("#"+a.field).addClass("uk-form-danger"),$("#"+a.field).select(),$("#"+a.field).focus()),a.error&&($("#taracot-pwd-error").html(a.error),$("#taracot-pwd-error").show())):($("#pwd_loading").hide(),$("#pwd_success").show())},error:function(){$("#set_password_div").show(),$("#pwd_loading").hide(),$("#reset_res").show(),$("#taracot-pwd-error").html(_lang_vars.ajax_failed),$("#taracot-pwd-error").show()}})):($("#pwd_password").addClass("uk-form-danger"),$("#pwd_password").focus(),$("#taracot-pwd-error").html(_lang_vars.invalid_password_syntax),void $("#taracot-pwd-error").show())}),$("#btn_auth").click(function(){location.href="/auth?rnd="+Math.random().toString().replace(".","")}),$(".taracot-auth-field").bind("keypress",function(a){submitOnEnter(a)&&($("#btn_pwd").click(),a.preventDefault())});